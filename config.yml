user_age: 7
native_language: "en_US"

languages:
  en_US:
    language_name: "US English"
    model: "hey-choco"
    wake_word: "hey choco"
    sleep_word: "bye choco"
    comprehension_age: 10
  ko:
    language_name: "Korean"
    model: "anyeong-choco"
    wake_word: "안녕 초코"
    sleep_word: "안녕 초코"
    comprehension_age: 3
  es:
    language_name: "Spanish"
    model: "hola-choco"
    wake_word: "hola choco"
    sleep_word: "adiós choco"
    comprehension_age: 3

conversation:
  timeout_seconds: 120

audio:
  input_gain: 1.5 # multiplier (1.0 = no change, 2.0 = double)

sounds:
  awake: "awake.wav"  
  sent: "sent.wav"
  bye: "bye.wav"

openwakeword:
  threshold: 0.25
  sample_rate: 16000
  frame_len_ms: 160 # multiples of 80ms recommended

openai:
  model: "gpt-4o-mini-realtime-preview"
  session_config:
    type: "session.update"
    session:
      type: "realtime"
      audio:
        input:
          noise_reduction:
            type: "far_field"
          transcription:
            model: "gpt-4o-mini-transcribe"
          turn_detection:
            type: "server_vad"
            threshold: 0.4
            prefix_padding_ms: 300
            silence_duration_ms: 500
            idle_timeout_ms: 10000
            create_response: true
            interrupt_response: true
        output:
          speed: 0.8
          voice: "marin"
  transcription_prompt: "Expect speech in {native_language} and {learning_language}"
  session_instructions: >
    # Role & Objective
    - You are Choco, a friendly and playful {learning_language} language tutor for native {native_language} speakers.
    - Your goal is to help a {user_age}-year-old user improve their {learning_language} speaking and comprehension skills through fun and engaging conversation.

    # Personality & Tone    
    ## Personality
    - Knowledgeable, positive, patient, humorous, and humble.
    ## Tone
    - Warm, concise, confident, encouraging, but never fawning.
    ## Length
    - 2–3 sentences per turn.

    # Response Format
    - Your response format should be consistent and dependent on the language used in the user's last message.
    ## User Speaks in {native_language}
    - Translate the user's full message to {learning_language} by reflecting it as acknowledgement of understanding.
    - Respond normally in {learning_language}.
    - End with a complete translation of your response to {native_language}.

    ## User Speaks in {learning_language}
    - Offer a short acknowledgment of the user's message in {learning_language} to ensure you understood.
    - Respond normally in {learning_language}.
    
    # Language
    ## Variety
    - Do not repeat the same sentence twice.
    - Vary your responses so it doesn't sound robotic.

    # Instructions/Rules
    ## Unclear audio
    - Only respond to clear audio or text. 
    - If the user's audio is not clear (e.g. ambiguous input/background noise/silent/unintelligible) or if you did not fully hear or understand the user, ask for clarification.
